# Generated by Django 6.0 on 2025-12-29 12:56

import django.core.validators
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='School',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Official school name', max_length=200)),
                ('motto', models.CharField(blank=True, help_text='School motto', max_length=255)),
                ('logo', models.ImageField(blank=True, null=True, upload_to='school/logos/')),
                ('address', models.TextField(help_text='Physical address')),
                ('city', models.CharField(blank=True, max_length=100)),
                ('country', models.CharField(default='Kenya', max_length=100)),
                ('phone', models.CharField(help_text='Primary contact phone', max_length=20)),
                ('phone_secondary', models.CharField(blank=True, help_text='Secondary phone', max_length=20)),
                ('email', models.EmailField(help_text='Official school email', max_length=254)),
                ('website', models.URLField(blank=True, help_text='School website URL')),
                ('established_date', models.DateField(blank=True, help_text='When school was founded', null=True)),
                ('registration_number', models.CharField(blank=True, help_text='Government registration number', max_length=100)),
                ('principal_name', models.CharField(blank=True, help_text="Current principal's name", max_length=200)),
                ('school_type', models.CharField(choices=[('primary', 'Primary School'), ('secondary', 'Secondary School'), ('combined', 'Combined (Primary & Secondary)')], default='combined', max_length=20)),
                ('facebook', models.URLField(blank=True)),
                ('twitter', models.URLField(blank=True)),
                ('instagram', models.URLField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'School',
                'verbose_name_plural': 'Schools',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='GradingScale',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Name of the grading scale (e.g., CBC, Standard)', max_length=100)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='grading_scales', to='classes.school')),
            ],
            options={
                'verbose_name': 'Grading Scale',
                'verbose_name_plural': 'Grading Scales',
                'unique_together': {('school', 'name')},
            },
        ),
        migrations.CreateModel(
            name='GradeClass',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Class name (e.g., Grade 1, Form 1)', max_length=50)),
                ('level', models.PositiveIntegerField(help_text='Numeric level for ordering (1-20)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(20)])),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='grade_classes', to='classes.school')),
            ],
            options={
                'verbose_name': 'Class',
                'verbose_name_plural': 'Classes',
                'ordering': ['level', 'name'],
                'unique_together': {('school', 'name')},
            },
        ),
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Department name', max_length=100)),
                ('code', models.CharField(blank=True, help_text='Short code (e.g., SCI, LANG)', max_length=10)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='departments', to='classes.school')),
            ],
            options={
                'verbose_name': 'Department',
                'verbose_name_plural': 'Departments',
                'ordering': ['name'],
                'unique_together': {('school', 'name')},
            },
        ),
        migrations.CreateModel(
            name='ClassPeriod',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='e.g., Period 1, Morning Break', max_length=50)),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('order', models.PositiveIntegerField(help_text='Display order')),
                ('is_break', models.BooleanField(default=False, help_text='Is this a break/non-teaching period?')),
                ('is_active', models.BooleanField(default=True)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='periods', to='classes.school')),
            ],
            options={
                'verbose_name': 'Class Period',
                'verbose_name_plural': 'Class Periods',
                'ordering': ['order', 'start_time'],
                'unique_together': {('school', 'order')},
            },
        ),
        migrations.CreateModel(
            name='AcademicYear',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Year name (e.g., 2024/2025)', max_length=50)),
                ('start_date', models.DateField(help_text='Academic year start date')),
                ('end_date', models.DateField(help_text='Academic year end date')),
                ('is_current', models.BooleanField(default=False, help_text='Mark as current active year')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='academic_years', to='classes.school')),
            ],
            options={
                'verbose_name': 'Academic Year',
                'verbose_name_plural': 'Academic Years',
                'ordering': ['-start_date'],
                'unique_together': {('school', 'name')},
            },
        ),
        migrations.CreateModel(
            name='Stream',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Stream name (e.g., A, B, East, West)', max_length=50)),
                ('capacity', models.PositiveIntegerField(default=40, help_text='Maximum number of students')),
                ('room_number', models.CharField(blank=True, help_text='Classroom number/name', max_length=20)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('grade_class', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='streams', to='classes.gradeclass')),
            ],
            options={
                'verbose_name': 'Stream',
                'verbose_name_plural': 'Streams',
                'ordering': ['grade_class__level', 'name'],
                'unique_together': {('grade_class', 'name')},
            },
        ),
        migrations.CreateModel(
            name='Subject',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Subject name', max_length=100)),
                ('code', models.CharField(help_text='Subject code (e.g., MATH, ENG)', max_length=10)),
                ('description', models.TextField(blank=True)),
                ('is_elective', models.BooleanField(default=False, help_text='Is this an elective subject?')),
                ('is_examinable', models.BooleanField(default=True, help_text='Does this subject have exams?')),
                ('max_marks', models.PositiveIntegerField(default=100, help_text='Maximum marks for the subject')),
                ('pass_marks', models.PositiveIntegerField(default=40, help_text='Minimum marks to pass')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('department', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subjects', to='classes.department')),
                ('grading_scale', models.ForeignKey(blank=True, help_text='The grading scale used for this subject', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='subjects', to='classes.gradingscale')),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subjects', to='classes.school')),
            ],
            options={
                'verbose_name': 'Subject',
                'verbose_name_plural': 'Subjects',
                'ordering': ['name'],
                'unique_together': {('school', 'code')},
            },
        ),
        migrations.CreateModel(
            name='Term',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Term name (e.g., Term 1, First Semester)', max_length=50)),
                ('term_number', models.PositiveIntegerField(choices=[(1, 'Term 1 / Semester 1'), (2, 'Term 2 / Semester 2'), (3, 'Term 3')], help_text='Term order (1, 2, or 3)')),
                ('start_date', models.DateField(help_text='Term start date')),
                ('end_date', models.DateField(help_text='Term end date')),
                ('is_current', models.BooleanField(default=False, help_text='Mark as current active term')),
                ('mid_term_break_start', models.DateField(blank=True, null=True)),
                ('mid_term_break_end', models.DateField(blank=True, null=True)),
                ('exam_start_date', models.DateField(blank=True, help_text='Final exams start', null=True)),
                ('exam_end_date', models.DateField(blank=True, help_text='Final exams end', null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_year', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='terms', to='classes.academicyear')),
            ],
            options={
                'verbose_name': 'Term',
                'verbose_name_plural': 'Terms',
                'ordering': ['academic_year', 'term_number'],
                'unique_together': {('academic_year', 'term_number')},
            },
        ),
        migrations.CreateModel(
            name='AcademicCalendarEvent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('event_type', models.CharField(choices=[('holiday', 'Public Holiday'), ('break', 'School Break'), ('exam', 'Examination'), ('meeting', 'Meeting'), ('sports', 'Sports Event'), ('cultural', 'Cultural Event'), ('ceremony', 'Ceremony'), ('other', 'Other')], default='other', max_length=20)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField(blank=True, help_text='Leave blank for single-day events', null=True)),
                ('is_all_day', models.BooleanField(default=True)),
                ('start_time', models.TimeField(blank=True, null=True)),
                ('end_time', models.TimeField(blank=True, null=True)),
                ('is_public', models.BooleanField(default=True, help_text='Visible to all users')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('academic_year', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='calendar_events', to='classes.academicyear')),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='calendar_events', to='classes.school')),
                ('term', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='calendar_events', to='classes.term')),
            ],
            options={
                'verbose_name': 'Calendar Event',
                'verbose_name_plural': 'Calendar Events',
                'ordering': ['start_date', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='GradingLevel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='e.g., Exceeding Expectation', max_length=100)),
                ('abbreviation', models.CharField(blank=True, help_text='e.g., EE, ME, AE, BE', max_length=10)),
                ('min_score', models.DecimalField(decimal_places=2, help_text='Minimum percentage for this level (0-100)', max_digits=5)),
                ('max_score', models.DecimalField(decimal_places=2, help_text='Maximum percentage for this level (0-100)', max_digits=5)),
                ('description', models.TextField(blank=True)),
                ('scale', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='levels', to='classes.gradingscale')),
            ],
            options={
                'verbose_name': 'Grading Level',
                'verbose_name_plural': 'Grading Levels',
                'ordering': ['-min_score'],
                'unique_together': {('scale', 'name')},
            },
        ),
        migrations.CreateModel(
            name='Lesson',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('day_of_week', models.PositiveSmallIntegerField(choices=[(1, 'Monday'), (2, 'Tuesday'), (3, 'Wednesday'), (4, 'Thursday'), (5, 'Friday'), (6, 'Saturday'), (0, 'Sunday')])),
                ('room', models.CharField(blank=True, help_text='Specific room if different from stream room', max_length=50)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('period', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lessons', to='classes.classperiod')),
                ('stream', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='timetable', to='classes.stream')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lessons', to='classes.subject')),
            ],
            options={
                'verbose_name': 'Lesson',
                'verbose_name_plural': 'Lessons',
                'ordering': ['day_of_week', 'period__order'],
                'unique_together': {('stream', 'period', 'day_of_week')},
            },
        ),
        migrations.CreateModel(
            name='ClassSubject',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('periods_per_week', models.PositiveIntegerField(default=4, help_text='Number of periods per week')),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('grade_class', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='class_subjects', to='classes.gradeclass')),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='class_subjects', to='classes.subject')),
            ],
            options={
                'verbose_name': 'Class Subject',
                'verbose_name_plural': 'Class Subjects',
                'ordering': ['grade_class__level', 'subject__name'],
                'unique_together': {('grade_class', 'subject')},
            },
        ),
    ]
